<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Year Calendar</title>
  <style>
      table {
          border-collapse: collapse;
          width: 100%;
      }

      th, td {
          border: 1px solid #ddd;
          text-align: center;
          padding: 8px;
      }

      th {
          background-color: #f2f2f2;
      }
  </style>
</head>
<body>

<h2 id="month-title">Calendar</h2>
<div>
  <button onclick="previousMonth()">Previous Month</button>
  <button onclick="setCurrentMonth()">Current Month</button>
  <button onclick="nextMonth()">Next Month</button>
</div>

<table id="calendar">
  <thead>
  <tr>
    <th>Mon</th>
    <th>Tue</th>
    <th>Wed</th>
    <th>Thu</th>
    <th>Fri</th>
    <th>Sat</th>
    <th>Sun</th>
  </tr>
  </thead>
  <tbody>
  <!-- Days will be inserted here with JavaScript -->
  </tbody>
</table>

<script>
	let currentDate = new Date();
	let currentMonth = currentDate.getMonth();
	let currentYear = currentDate.getFullYear();
	const monthNames = [
		"January", "February", "March", "April", "May", "June",
		"July", "August", "September", "October", "November", "December"
	];

	function generateCalendar(month, year) {
		const daysInMonth = new Date(year, month + 1, 0).getDate();
		const firstDayOfMonth = new Date(year, month, 1).getDay();

		const tableBody = document.querySelector('#calendar tbody');
		const monthTitle = document.querySelector('#month-title');

		let html = '';

		let dayCounter = 1;

		for (let i = 0; i < 6; i++) { // 6 rows for maximum flexibility
			html += '<tr>';

			for (let j = 0; j < 7; j++) {
				const weekdayIndex = (j + 6) % 7; // To shift Sunday (0) to the end
				if (i === 0 && j < firstDayOfMonth) {
					html += '<td></td>'; // empty cells before the first day of the month
				} else if (dayCounter > daysInMonth || (i === 0 && weekdayIndex < firstDayOfMonth)) {
					html += '<td></td>'; // empty cells after the last day of the month or before the first day of the month
				} else {
					html += `<td>${dayCounter}</td>`;
					dayCounter++;
				}
			}

			html += '</tr>';
		}

		tableBody.innerHTML = html;
		monthTitle.textContent = `${monthNames[month]} ${year}`;
	}

	function previousMonth() {
		currentMonth--;
		if (currentMonth < 0) {
			currentMonth = 11;
			currentYear--;
		}
		generateCalendar(currentMonth, currentYear);
	}

	function nextMonth() {
		currentMonth++;
		if (currentMonth > 11) {
			currentMonth = 0;
			currentYear++;
		}
		generateCalendar(currentMonth, currentYear);
	}

	function setCurrentMonth() {
		currentDate = new Date();
		currentMonth = currentDate.getMonth();
		currentYear = currentDate.getFullYear();
		generateCalendar(currentMonth, currentYear);
	}

	generateCalendar(currentMonth, currentYear);
</script>

</body>
</html>
